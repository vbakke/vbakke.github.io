<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" /></script>
  <script src="js/main.js"></script>
  <script src="js/trytes2.js"></script>
  <link rel="stylesheet" href="./css/main.css" type="text/css" media="all">
</head>

<body>
  <div class="header">
    <div style="height: 10px"> </div>
    <div class="pagetitle">Trytes and Bytes</div>
    <div class="pagesubtitle">How to fit the square peg in the round hole</div>
  </div>
  <div class="content">
    <div class="article">
      <div class="title">Native Unicode strings</div>
      <div class="pane leftpane">
        <p>Native Unicode text (<span id="lenUnicodeBytes"></span> chars):</p>
        <textarea id="txtUnicodeNative" class="box bytes" cols=30 rows=8 autofocus>Hello</textarea>
        <p>&nbsp;</p>
        <p>The legacy method is using asciiToTrytes, making<br/> 2 tryte chars for each byte.</p>
        <p>The compressed method is shifting the bits of the byte8 into an array of byte3 (0-7), so that is fits better in a tryte2 (0-8).</p>
        <p>A good idea, but doesn't save much on length.</p>
      </div>
      <div class="pane rightpane">
        <p>Legacy method for a tryte6 string (<span id="lenUnicodeTrytesLegacy"></span> chars):</p>
        <textarea id="txtUnicodeEncodedLegacy" class="box trytes"  cols=30 rows=8></textarea>
        <p>Compressed method for a tryte6 string (<span id="lenUnicodeTrytes"></span> chars):</p>
        <textarea id="txtUnicodeEncoded" class="box trytes"  cols=30 rows=8></textarea>
      </div>
      <div style="clear: both" />
    </div>
    <div class="article">
      <div class="title">Square pegs and round holes</div>
      <p>The bit buckets come in sizes 1, 2, 4, 8, 16, 32, 64, etc. <br/>
      The trit buckets come in sizes 1, 3, 9, 27, 81, 243, 729, etc.</p> 
      <p>The IOTA asciiToTrytes .toTrytes() puts each byte into a tryte6 (0-728), which "wastes" more than half of what the tryte6 bucket can hold.</p>
      <img style="margin-left:auto;margin-right:auto;display:block" src="./images/square_peg_in_a_round_hole.png">
      <p>Byte 0, becomes '99'; counting up 'A9', 'B9', up to the largest byte 255, which becomes 'LI'. </p>
      <p>Any tryte from 'MI' and up to 'ZZ' cannot be converted back into a byte. Basically. because a byte cannot fit the values from 256-728.</p>
    </div>
    <div class="article">
      <div class="title">Native tryte string</div>
      <div class="leftpane">
        <p>Native tryte3 string:</p>
        <textarea id="txtTrytesNative" class="box trytes"  cols=30 rows=8>99AZZ</textarea>
      </div>
      <div class="rightpane">
        <p>Encoded as bytes:</p>
        <textarea id="txtTrytesEncoded" class="box bytes" cols=30 rows=8>0,165,242</textarea>
      </div>
      <div style="clear: both" />
      <p>Native tryte3 strings, shifted to tryte5 arrays, before encoded as bytes.</p>
      <p>&nbsp;</p>
      <p style="font-style: italic">NB! Don't insert your actual IOTA seeds here, unless you do it offline in a secure environment.</p>
    </div>
  </div>
</body>

</html>